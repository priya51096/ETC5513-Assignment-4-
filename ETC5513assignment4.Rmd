---
title: "Immigration Report"
author:
- familyname: Dingorkar
  othernames: Priya Ravindra
  address: Monash University
  email: pdin0008@student.monash.edu
  qualifications:  BE in CE & Pursing Master of Business Analytics
  correspondingauthor: true
- familyname: Babu
  othernames: Aarathy
  address: Monash University
  email: abab0012@student.monash.edu
  qualifications:  B.Tech
- familyname: Wang
  othernames: Junhao
  address: Monash University
  email: jwan0296@student.monash.edu
  qualifications: Accounting
- familyname: XXX (Please add your details Dilinie)
  othernames: XXX
  address: XXX
  email: XXX
  qualifications:  XXX
  correspondingauthor: true
department: ETC5513, Group 11\newline Junhao &\newline Aarathy &\newline Dilinie &\newline Priya
organization: Australian Government COVID19
bibliography: references.bib
biblio-style: authoryear-comp
linestretch: 1.5
output:
  bookdown::pdf_document2:
    template: monashreport2.tex
    fig_caption: yes
    fig_height: 5
    fig_width: 8
    includes:
      in_header: preamble.tex
    keep_tex: yes
    number_sections: yes
    citation_package: biblatex
    toc: false
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, cache = FALSE, message = FALSE, warning = FALSE)
```


```{r, echo = FALSE, message = FALSE, warning = FALSE}
# Libraries
library(tidyverse)
library(readr)
library(readr)
library(kableExtra)
library(bookdown)
library(scales)
library(naniar)
library(bookdown)
library(knitr)
```


\section*{Research Questions}
  
- Looking at the Skill level, Occupations across the globe


 \begin{enumerate}
   \item Graph for Skill Level
   \item Graph for Overqulaified 
   \item Table for different Occupations
 \end{enumerate}

\section*{Introduction}

What is OECD ?

> The Organisation for Economic Co-operation and Development (OECD) is a group of 34 member countries that discuss and develop economic and social policy. OECD members are democratic countries that support free-market economies

What is ISCED ?

>The International Standard Classification of Education is a statistical framework for organizing information on education maintained by the United Nations Educational, Scientific and Cultural Organization. It is a member of the international family of economic and social classifications of the United Nations.

```{r, echo=FALSE}
dat <- read_csv("data/DIOC_2015_16_File_D_1.csv")
```


```{r}
dat1 <- dat %>% 
  mutate(Continent = case_when(
     str_detect(regionb,"AFRI") ~ "Africa",
     str_detect(regionb,"ASIA") ~ "Asia",
     str_detect(regionb,"EURO") ~ "Europe",
     str_detect(regionb,"NOAM") ~ "North America",
     str_detect(regionb,"OCEA") ~ "Oceania",
     str_detect(regionb,"SCAC") ~ "South America",
     str_detect(regionb,"UNK") ~ "Unknown" 
 )) %>%
  mutate(Sex = case_when(
   str_detect(sex,"1") ~ "Male",
   str_detect(sex,"2")~ "Female"
 )) %>%
  mutate(Skill = case_when(
    str_detect(skill_occ,"1") ~ "Skill Level 01",
    str_detect(skill_occ,"2") ~ "Skill Level 02",
    str_detect(skill_occ,"3") ~ "Skill Level 03",
    str_detect(skill_occ,"99") ~ "Unknown"
  )) %>%
  mutate(Qualification = case_when(
    str_detect(overqualified,"0") ~ "Not OverQualified",
    str_detect(overqualified,"1") ~ "OverQualified",
    str_detect(overqualified,"99") ~ "Unknown",
  )) %>% 
  mutate(Occupations = case_when(
    str_detect(occ_1d,"0") ~ "Armed Forced Occupations",
    str_detect(occ_1d,"1") ~ "Managerial Occupations",
    str_detect(occ_1d,"2") ~ "Professional Occupations",
    str_detect(occ_1d,"3") ~ "Technicians and Associate Professional Occupations",
    str_detect(occ_1d,"4") ~ "Clerical Support Worker Occupations",
    str_detect(occ_1d,"5") ~ "Service and Sales Worker Occupations",
    str_detect(occ_1d,"6") ~ "Skilled Agricultural, Forestry and Fishery Occupations",
    str_detect(occ_1d,"7") ~ "Craft and Related trade Occupations",
    str_detect(occ_1d,"8") ~ "Plant and Machine Operators and Assembler Occupations",
    str_detect(occ_1d,"9") ~ "Elementary Occupations",
    str_detect(occ_1d,"99") ~ "Unknown"
    )) %>% replace_with_na (replace =
                    list(skill_occ = "Unknown",
                         sex = "Unknown",
                         regionb = "Unknown",
                         overqualified = "Unknown",
                         occ_1d = "Unknown"
                        ))
```


```{r skill, fig.cap= "Types of Skill"}
sum_dat1 <- dat1 %>% dplyr::filter(Continent != "Unknown") %>% 
  dplyr::filter(Skill != "Unknown") %>% 
  group_by(Continent, Skill) %>% 
  summarise(tot = sum(number), na.rm = TRUE)

ggplot(sum_dat1 , aes(x =  Continent , y = tot , fill = Skill) ) +
  geom_bar(stat="identity", position=position_dodge()) +
  scale_fill_viridis_d() +
  theme_bw() + scale_y_continuous(labels = comma) + theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
  ggtitle("Skill Level in different Continents across the Globe") + xlab("Continent") + ylab("Number of Migrants")
```

In figure \@ref(fig:skill) talks about the different **Skill Levels**. It is defined as a function of the complexity and range of tasks and duties to be performed in an occupation into groups that people have across the globe in. Let us understand the different skills. Skill Level 01 typically involve the performance of simple and routine physical or manual task, these task require physical strength and/or endurance. Skill Level 02 typically involve the performance of tasks such as operating machinery and electronic equipments, they should also have the ability to read and write to a certain extend. Skill Level 03 involves the performance of complex technical and practical tasks that require an extensive body of factual, technical and procedural knowledge in a specialized feild, requires high level literacy and numeracy and well developed interpersonal communication skills. The graph here shows that **Europe** have the highest number of migrants with all these skill levels. **North America** has very less migrants involved in skill level 01 and most migrants have skill level 02 and level 03. **South America** have more people with skill level 02 followed by skill level 03 and skill level 01.  **Oceania** has verey few migrants with skill level 01 and people with skill level 02 and skill level 03. Most of the migrants in **Asia** have skill level 02 and skill level 03. **Africa** has very migrants with all the skill levels.

```{r qual, fig.cap= "Occupation Types"}
sum_dat2 <- dat1 %>% dplyr::filter(Continent != "Unknown") %>% 
  dplyr::filter(Qualification != "Unknown") %>% 
  group_by(Continent, Qualification) %>% 
  summarise(tot = sum(number), na.rm = TRUE)

ggplot(sum_dat2 , aes(x =  Continent , y = tot , fill = Qualification) ) +
  geom_bar(stat="identity", position=position_dodge()) +
  scale_fill_viridis_d() +
  theme_bw() + scale_y_continuous(labels = comma) + theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
  ggtitle("Qualification Level in different Continents across the Globe") + xlab("Continent") + ylab("Number of Migrants")
```

In figure \@ref(fig:qual), Overqualified indicates whether a worker is highly educated for the job that he is doing in a particular continent with respect to their education attainment he has recieved. Looking at the figure closely, we have seen that, **North America** has the highest over qualified people, followed by **Europe**, **South America**, **Asia**, **Africa** and **Oceania**. Not overqualified here refers to that, most migrants have just the right level of education attainment. We see that the top three continents with the right qualification amongst the migrants are **Europe**, **North America** and **Asia**

```{r}
dat3 <- dat1 %>% dplyr::filter(Occupations != "Unknown") %>% 
        group_by(Continent, Occupations) %>% 
        summarise(tot = (sum(number , na.rm = TRUE)))
```

```{r}
 dat4 <- pivot_wider(dat3, names_from = Continent, values_from = tot)
```

```{r occupa}
table <- dat4 %>%
  dplyr::select(-Unknown)  

knitr::kable(
table[1:10,], booktabs = TRUE,
  caption = 'List of Occupations that people engage in after Migration') %>% 
  kable_styling(bootstrap_options = c("striped", "hover") , latex_options = "scale_down")

```

In table \@ref(tab:occupa) we see the different occupation (will explain rest of it in master to work in the master) in order to work in master.



