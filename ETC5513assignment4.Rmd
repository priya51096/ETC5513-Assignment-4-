---
title: "Immigration Report"
author:
- familyname: Dingorkar
  othernames: Priya Ravindra
  address: Monash University
  email: pdin0008@student.monash.edu
  qualifications:  BE in Computer Enginnering, Pursing Master of Business Analytics
  correspondingauthor: true
- familyname: Babu
  othernames: Aarathy
  address: Monash University
  email: abab0012@student.monash.edu
  qualifications:  B.Tech
- familyname: Wang
  othernames: Junhao
  address: Monash University
  email: jwan0296@student.monash.edu
  qualifications: Accounting
- familyname: XXX (Please add your details Dilinie)
  othernames: XXX
  address: XXX
  email: XXX
  qualifications:  XXX
  correspondingauthor: true
department: ETC5513, Group 11\newline Junhao &\newline Aarathy &\newline Dilinie &\newline Priya
organization: Australian Government COVID19
bibliography: references.bib
biblio-style: authoryear-comp
linestretch: 1.5
output:
  bookdown::pdf_document2:
    template: monashreport2.tex
    fig_caption: yes
    fig_height: 5
    fig_width: 8
    includes:
      in_header: preamble.tex
    keep_tex: yes
    number_sections: yes
    citation_package: biblatex
    toc: false
---

```{r , echo = FALSE, message = FALSE, warning = FALSE}
# Libraries

library(tidyverse)
library(readr)
library(kableExtra)
library(bookdown)
library(scales)
library(naniar)

```



\section*{Introduction}

\section*{Abstract}

\section*{Methodology}


\clearpage

\section*{Gender Gap in Migration}


```{r dataread , echo=FALSE, message=FALSE}

file1 <- read.csv("data/DIOC_2015_16_File_A_1.csv")

```

Throughout history, humans have migrated for various reasons that could be classified as economic, social, political, etc. This section focuses on the preferred destination countries for migration as well as the gender difference across age groups in the migrant population in destination countries.

```{r datacleaning , echo = FALSE, message = FALSE}
whomigrates<- file1 %>% 
  mutate(edu_lfs = as.character(edu_lfs),
         age_lfs=as.character(age_lfs),
         sex=as.character(sex),
         national=as.character(national),
         oecd=as.character(oecd),
         oecdb=as.character(oecdb),
         fborn=as.character(fborn)
         ) %>% 
         mutate(
           age_lfs = case_when(
    str_detect(age_lfs,"0") ~ "0-14",
     str_detect(age_lfs,"1") ~ "15-24",
 str_detect(age_lfs,"2") ~ "25-64",
 str_detect(age_lfs,"3") ~ "65+",
 str_detect(age_lfs,"12") ~ "15-84",
 str_detect(age_lfs,"99") ~ "Unknown" 
 )) %>%
  mutate(sex = case_when(
   str_detect(sex,"1") ~ "Male",
   str_detect(sex,"2")~ "Female"
 )) %>%
  mutate(edu_lfs = case_when(
    str_detect(edu_lfs,"1")~"low",
    str_detect(edu_lfs,"2")~"medium",
    str_detect(edu_lfs,"3")~"high",
    str_detect(edu_lfs,"99")~"unknown"
  )) %>% 
      mutate(national = case_when(
    str_detect(national,"0") ~ "Foreigner",
     str_detect(national,"1") ~ "National",
     str_detect(national,"99")~"unknown"
    
  )) %>% mutate(oecd = case_when(
    
    str_detect(oecd,"0") ~ "Non member",
     str_detect(oecd,"1") ~ "Member"
    
  )) %>% mutate(oecdb = case_when(
    
    str_detect(oecdb,"0") ~ "Non member",
     str_detect(oecdb,"1") ~ "Member"
    
  )) %>% mutate(fborn = case_when(
    
    str_detect(fborn,"0") ~ " Native-born",
     str_detect(fborn,"1") ~ " Foreign-born ",
     str_detect(fborn,"99")~"unknown"
    
  )) %>% replace_with_na (replace =
                    list(edu_lfs = "unknown",
                         national = "unknown",
                         fborn = "unknown"
                        ))

```

The table \@ref(tab:topdestinations) depicts the preferred destinations for migration in the year 2015/16. Historically, the USA have been the most popular destination for migration and has remained the same in the year 2015-16, with the most preferred destinations being the USA, Japan, and Mexico across all ages. 

```{r topdestinations, echo = FALSE, message = FALSE, warning=FALSE}

top_10 <- whomigrates %>%  
  mutate(
         sex=as.factor(sex),
         oecd=as.factor(oecd),#oecd resident
         oecdb=as.factor(oecdb),#oecd born
         age_lfs=as.factor(age_lfs),
         edu_lfs =as.factor(edu_lfs)
         ) %>% 
  group_by(country) %>% 
  summarise(migrant_Count=
              sum(number,na.rm=T)) %>%
  arrange(desc(migrant_Count)) %>%
  head(10) 
  
  top_10 %>% 
   
    mutate(country =
    case_when(
    str_detect(country,"USA") ~ "United States of America",
    str_detect(country,"JPN") ~ "Japan",
    str_detect(country,"MEX") ~ "Mexico",
    str_detect(country,"DEU") ~ "Germany",
    str_detect(country,"TUR") ~  "Tunisia",
     str_detect(country,"FRA") ~  "France",
     str_detect(country,"GBR") ~  "United Kingdom",
     str_detect(country,"ITA") ~  "Italy",
     str_detect(country,"KOR") ~  "Korea",
     str_detect(country,"ESP") ~  "Spain"
  ))  %>% 
    rename(Country = country) %>%
     kable("latex", 
        booktabs = T,
        caption="Top 10 destinations") %>% 
kable_styling(latex_options= c("striped",
                               "condensed"),
              full_width = F) 

  
  fm <- whomigrates %>% 
  mutate(
         sex=as.factor(sex),
         oecd=as.factor(oecd),#oecd resident
         oecdb=as.factor(oecdb),#oecd born
         age_lfs=as.factor(age_lfs)
         ) %>% group_by(sex) %>% 
  summarise(n=sum(number,na.rm = T)) 
 percent<- fm %>% pivot_wider(names_from = sex,values_from = n) %>%
   mutate(pf= (Female/(Female+Male)*100),
             pm=(Male/(Female+Male)*100)
                 )            
```

Among the international migrants, `r round(percent$pf,2)` % are females and `r round(percent$pm,2)` % are males. Figure \@ref(fig:gendergap) shows the gender gap in each country's migrant population and it is observed that in 2015-16, women constituted more in the migrant population especially in the top preferred destinations like the USA, Japan, etc whereas the gap is relatively low in countries like Belgium, Finland, etc. 

```{r gendergap, warning=FALSE,echo = FALSE, message = FALSE, fig.cap="Gender difference in migrant population in countries" , fig.width=10}


                                        

options(scipen=999)
gendergap <- whomigrates %>% 
  mutate(
         sex=as.factor(sex),
         oecd=as.factor(oecd),#oecd resident
         oecdb=as.factor(oecdb),#oecd born
         age_lfs=as.factor(age_lfs)
         ) %>% 
  group_by(sex,country)%>%
  summarise(n=sum(number,na.rm = T)) 
   
  gendergap %>% 
    ggplot(aes(x= fct_reorder(country,n),
               y=n,
               fill= sex) )+
    geom_col(position = "dodge")+ 
    theme_bw()+theme(axis.text.x = element_text(angle = 90, 
                                                hjust = 1)) + 
    scale_y_continuous(labels = comma) +
    xlab("Destination Country") + 
    ylab("Number of Migrants")
    



```

In 2015-16, the most number of migrants fell in the age group 25-64, with females being higher in number compared to males in countries like the USA, Mexico, Germany, etc. In countries like Japan, Korea and Spain it can be seen that there is no gender gap in the migrant population of age group 25-64 whereas in countries like Poland and Turkey the number of males is higher than females for the same age group. 
Amongst the age group 15-24, there is a relatively low gender difference in the migrant population compared to the other age groups and the trend is uniform in almost all the countries whereas amongst the migrants who are 65 years old and above, the number of females is higher than that of males in the USA, Japan , Italy, etc and Mexico being one of the top destinations for migration, saw an influx of an equal number of males and females aged over 65 in the year 2015-16. 



```{r agegap, warning=FALSE,echo = FALSE, message = FALSE, fig.cap="Gender difference in migrant population across age groups in countries " , fig.width=8}

agegap <- whomigrates  %>% 
  mutate(
         sex=as.factor(sex),
         oecd=as.factor(oecd),#oecd resident
         oecdb=as.factor(oecdb),#oecd born
         age_lfs=as.factor(age_lfs)
         ) %>%
 
  group_by(age_lfs,sex,country) %>% 
  summarise(total=sum(number,na.rm = T))
  `%notin%` <- Negate(`%in%`)
 agegap%>%  
  filter(age_lfs %notin% c("0-14","Unknown")) %>%
  ggplot(aes(x = country,y = total,fill = sex)) +

  
    geom_col(position = "dodge")+ 
    theme_bw()+theme(axis.text.x = element_text(angle = 90, hjust = 1)) + 
    scale_colour_brewer(palette = "Set1")+ 
    scale_y_continuous(labels = comma) +
   facet_wrap(~age_lfs,nrow = 3) + ylab("Number of Migrants") +
   xlab("Country")


```



\section*{Limitations}

The Database on Immigrants in OECD Countries (DIOC) 2015/16 provides information on age,duration of stay, labour force status and occupation of the migrants. The limitations of the dataset is as follows,

\begin{enumerate}

   \item Confidentiality and Reliability issues 

Due to confidentiality and reliability issues or imprecise information, the place of birth is sometimes recorded at the continental level such as Africa, Asia, Europe, etc. instead of the country level,therefore the analysis is focused on only the destination countries .Also, there is only limited details available on the important variables like educational qualification and skills. 

   \item Unavailability of data

Unavailability of data on variables like age, skills,occupation ,labour force status and educational qualification proved to be a limitation to the analysis of the dataset.

 \item  Inconsistency of data
 
 The dataset contains inconsistency in data for example the reference population for Switzerland, Luxembourg and New Zealand is 15+ and there is no information on the age group 0-14. Due to this reason and the fact that 0-14 age group belongs to the minor category, the age group 0-14  was not considered for the analysis of gender gap in migrant population.  
 
 \end{enumerate}
 
 
\section*{Conclusions} 


Migrants have made significant impacts on socio-economic as well as the political sphere of a destination countries. From the analysis on the Database on Immigrants in OECD Countries (DIOC) released by The Organisation for Economic Co-operation and Development (OECD), we conclude the following,

\begin{enumerate}

\item In the year 2015-16 , `r round(percent$pf,2)` % of international migrants were female where as `r round(percent$pm,2)`% were male. 

\item People between 25-64 years old migrated more compared to the other age groups in year 2015-16. 


\end{enumerate}

\nocite{*}
 