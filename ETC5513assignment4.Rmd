---
title: "Immigration Report"
author:
- familyname: Dingorkar
  othernames: Priya Ravindra
  address: Monash University
  email: pdin0008@student.monash.edu
  qualifications:  BE in CE & Pursing Master of Business Analytics
  correspondingauthor: true
- familyname: Babu
  othernames: Aarathy
  address: Monash University
  email: abab0012@student.monash.edu
  qualifications:  B.Tech
- familyname: Wang
  othernames: Junhao
  address: Monash University
  email: jwan0296@student.monash.edu
  qualifications: Accounting
- familyname: XXX (Please add your details Dilinie)
  othernames: XXX
  address: XXX
  email: XXX
  qualifications:  XXX
  correspondingauthor: true
department: ETC5513, Group 11\newline Junhao &\newline Aarathy &\newline Dilinie &\newline Priya
organization: Australian Government COVID19
bibliography: references.bib
biblio-style: authoryear-comp
linestretch: 1.5
output:
  bookdown::pdf_document2:
    template: monashreport2.tex
    fig_caption: yes
    fig_height: 5
    fig_width: 8
    includes:
      in_header: preamble.tex
    keep_tex: yes
    number_sections: yes
    citation_package: biblatex
    toc: false
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, cache = FALSE, message = FALSE, warning = FALSE)
```


```{r, echo = FALSE, message = FALSE, warning = FALSE}
# Libraries
library(tidyverse)
library(readr)
library(kableExtra)
library(bookdown)
library(scales)
library(naniar)
library(bookdown)
library(knitr)
```


\section*{Research Questions}
  
- Visual summary of corona virus cases and deaths rates in  the following countries
- Please meention about the license part in collab

 \begin{enumerate}
   \item Italia
   \item Germany
 \end{enumerate}

\section*{Introduction}

What is OECD ?

> The Organisation for Economic Co-operation and Development (OECD) is a group of 34 member countries that discuss and develop economic and social policy. OECD members are democratic countries that support free-market economies

What is ISCED ?

>The International Standard Classification of Education is a statistical framework for organizing information on education maintained by the United Nations Educational, Scientific and Cultural Organization. It is a member of the international family of economic and social classifications of the United Nations.

```{r, echo=FALSE, message}
library(readr)
dat <- read_csv("data/DIOC_2015_16_File_D_1.csv")
```

In this branch we will do data cleaning

```{r}
dat1 <- dat %>% 
  mutate(Continent = case_when(
     str_detect(regionb,"AFRI") ~ "Africa",
     str_detect(regionb,"ASIA") ~ "Asia",
     str_detect(regionb,"EURO") ~ "Europe",
     str_detect(regionb,"NOAM") ~ "North America",
     str_detect(regionb,"OCEA") ~ "Oceania",
     str_detect(regionb,"SCAC") ~ "South America",
     str_detect(regionb,"UNK") ~ "Unknown" 
 )) %>%
  mutate(Sex = case_when(
   str_detect(sex,"1") ~ "Male",
   str_detect(sex,"2")~ "Female"
 )) %>%
  mutate(Skill = case_when(
    str_detect(skill_occ,"1") ~ "Skill Level 01",
    str_detect(skill_occ,"2") ~ "Skill Level 02",
    str_detect(skill_occ,"3") ~ "Skill Level 03",
    str_detect(skill_occ,"99") ~ "Unknown"
  )) %>%
  mutate(Qualification = case_when(
    str_detect(overqualified,"0") ~ "Not OverQualified",
    str_detect(overqualified,"1") ~ "OverQualified",
    str_detect(overqualified,"99") ~ "Unknown",
  )) %>% 
  mutate(Occupations = case_when(
    str_detect(occ_1d,"0") ~ "Armed Forced Occupations",
    str_detect(occ_1d,"1") ~ "Managerial Occupations",
    str_detect(occ_1d,"2") ~ "Professional Occupations",
    str_detect(occ_1d,"3") ~ "Technicians and Associate Professional Occupations",
    str_detect(occ_1d,"4") ~ "Clerical Support Worker Occupations",
    str_detect(occ_1d,"5") ~ "Service and Sales Worker Occupations",
    str_detect(occ_1d,"6") ~ "Skilled Agricultural, Forestry and Fishery Occupations",
    str_detect(occ_1d,"7") ~ "Craft and Related trade Occupations",
    str_detect(occ_1d,"8") ~ "Plant and Machine Operators and Assembler Occupations",
    str_detect(occ_1d,"9") ~ "Elementary Occupations",
    str_detect(occ_1d,"99") ~ "Unknown"
    )) %>% replace_with_na (replace =
                    list(skill_occ = "Unknown",
                         sex = "Unknown",
                         regionb = "Unknown",
                         overqualified = "Unknown",
                         occ_1d = "Unknown"
                        ))
```

```{r}
sum_dat1 <- dat1 %>% dplyr::filter(Continent != "Unknown") %>% 
  dplyr::filter(Skill != "Unknown") %>% 
  group_by(Continent, Skill) %>% 
  summarise(tot = sum(number), na.rm = TRUE)

ggplot(sum_dat1 , aes(x =  Continent , y = tot , fill = Skill) ) +
  geom_bar(stat="identity", position=position_dodge()) +
  scale_fill_viridis_d() +
  theme_bw() + scale_y_continuous(labels = comma) + theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
  ggtitle("Skill Level in different Continents across the Globe")
```


```{r}
sum_dat2 <- dat1 %>% dplyr::filter(Continent != "Unknown") %>% 
  dplyr::filter(Qualification != "Unknown") %>% 
  group_by(Continent, Qualification) %>% 
  summarise(tot = sum(number), na.rm = TRUE)

ggplot(sum_dat2 , aes(x =  Continent , y = tot , fill = Qualification) ) +
  geom_bar(stat="identity", position=position_dodge()) +
  scale_fill_viridis_d() +
  theme_bw() + scale_y_continuous(labels = comma) + theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
  ggtitle("Qual Level in different Continents across the Globe")
```

```{r RankCollege}
dat3 <- dat1 %>% dplyr::filter(Occupations != "Unknown") %>% 
        group_by(Continent, Occupations) %>% 
        summarise(tot = (sum(number , na.rm = TRUE)))
```

```{r}
 dat4 <- pivot_wider(dat3, names_from = Continent, values_from = tot)
```


```{r RankCollege}

table <- dat4 %>%
  dplyr::select(-Unknown)  

knitr::kable(
table[1:10,], booktabs = TRUE,
  caption = 'TABLE DISPLAYING THE TOP 50 COLLEGES WORLDWIDE') %>% 
  kable_styling(bootstrap_options = c("striped", "hover"))

```

\section*{Abstract}

\section*{Methodology}

\section*{References}



