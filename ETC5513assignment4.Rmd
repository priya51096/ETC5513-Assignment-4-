---
title: "Immigration Report"
author:
- familyname: Dingorkar
  othernames: Priya Ravindra
  address: Monash University
  email: pdin0008@student.monash.edu
  qualifications:  BE in Computer Enginnering, Pursing Master of Business Analytics
  correspondingauthor: true
- familyname: Babu
  othernames: Aarathy
  address: Monash University
  email: abab0012@student.monash.edu
  qualifications:  B.Tech
- familyname: Wang
  othernames: Junhao
  address: Monash University
  email: jwan0296@student.monash.edu
  qualifications: Accounting
- familyname: Seimon
  othernames: Dilinie
  address: Monash University
  email: asei0003@student.monash.edu
  qualifications:  BSc.
  correspondingauthor: true
department: ETC5513, Group 11\newline Junhao &\newline Aarathy &\newline Dilinie &\newline Priya
organization: Australian Government COVID19
bibliography: references.bib
biblio-style: authoryear-comp
linestretch: 1.5
output:
  bookdown::pdf_document2:
    template: monashreport2.tex
    fig_caption: yes
    fig_height: 5
    fig_width: 8
    includes:
      in_header: preamble.tex
    keep_tex: yes
    number_sections: yes
    citation_package: biblatex
    toc: false
---

```{r , echo = FALSE, message = FALSE, warning = FALSE}
# Libraries

library(tidyverse)
library(readr)
library(kableExtra)
library(bookdown)
library(visdat)
```



\section*{Introduction}

\section*{Abstract}

\section*{Methodology}

\section*{File B1}

```{r reading-data}
fileb1 <- read.csv("data/DIOC_2015_16_File_B_1.csv")
```

```{r cleaning-data}
fileb1cleaned <- fileb1 %>% mutate(
  sex = case_when(
    sex == "1" ~ "male",
    sex == "2"~ "female"
    ),
  edu_lfs = case_when(
    edu_lfs == "1" ~ "low",
    edu_lfs == "2" ~ "meduim",
    edu_lfs == "3" ~ "high",
    edu_lfs == "99" ~ "unknown"
  ),
  dos_lfs = case_when(
    dos_lfs == "0" ~ "native-born",
    dos_lfs == "1" ~ "five-years-or-less",
    dos_lfs == "2" ~ "five-to-ten-years",
    dos_lfs == "3" ~ "more-than-ten-years",
    dos_lfs == "23" ~ "more-than-five-years",
    dos_lfs == "99" ~ "unknown",
  ),
  oecd = case_when(
    oecd == "0" ~ "non-member",
    oecd == "1" ~ "member"
  ),
  oecdb = case_when(
    oecdb == "0" ~ "non-member",
    oecdb == "1" ~ "member"
  ),
  fborn = case_when(
    fborn == "0" ~ "native-born",
    fborn == "1" ~ "foreign-born",
    fborn == "99" ~ "unknown"
  )
  )
```

```{r summarise-aus-data}
#filter AUS residents
aus_b1 <- fileb1cleaned %>% filter(country == "AUS") %>%
  group_by(dos_lfs,edu_lfs) %>%
  summarise(count = sum(number))
```


```{r tile-plot-edu-vs-duration}
aus_b1 %>% ggplot(aes(x = dos_lfs,
                     y = edu_lfs)) +
  geom_tile(aes(fill = count)) +
  labs(x = "Duration of Stay",
       y = "Level of Education") +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```




